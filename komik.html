<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Komik PATRION - Baca Komik Online Gratis</title>
    <meta name="description" content="Baca komik PATRION online gratis. Petualangan epik para Patriot Nusantara dalam format komik digital berkualitas tinggi.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Komik PATRION - Baca Komik Online Gratis">
    <meta property="og:description" content="Petualangan epik para Patriot Nusantara dalam format komik digital">
    <meta property="og:image" content="assets/images/comics-og.jpg">
    <meta property="og:url" content="https://patrion.com/comics">
    
    <!-- CSS & Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0f172a',
                        secondary: '#1e293b',
                        accent: '#fbbf24',
                        'fantasy-blue': '#1e3a8a',
                        'fantasy-purple': '#5b21b6',
                        'fantasy-dark': '#0f172a',
                        'fantasy-gold': '#fbbf24',
                        // Warna elemen berdasarkan karakter
                        fire: '#dc2626',
                        wind: '#94a3b8',
                        water: '#3b82f6',
                        earth: '#d97706',
                        thunder: '#7c3aed',
                        nature: '#16a34a',
                        light: '#fde047',
                        dark: '#1e293b'
                    },
                    backgroundImage: {
                        'fantasy-gradient': 'linear-gradient(135deg, #1e3a8a 0%, #5b21b6 50%, #0f172a 100%)',
                        'gold-gradient': 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)',
                        'comic-gradient': 'linear-gradient(135deg, #dc2626 0%, #fbbf24 50%, #3b82f6 100%)'
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="assets/css/styles.css">
    <style>
        /* Comic Card Styles */
        .comic-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid rgba(251, 191, 36, 0.15);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .comic-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: rgba(251, 191, 36, 0.4);
            box-shadow: 0 20px 40px rgba(123, 97, 255, 0.3);
        }
        
        .comic-thumbnail {
            position: relative;
            overflow: hidden;
            height: 320px;
        }
        
        .comic-thumbnail img {
            transition: transform 0.5s ease;
            height: 100%;
            width: 100%;
            object-fit: cover;
        }
        
        .comic-card:hover .comic-thumbnail img {
            transform: scale(1.1);
        }
        
        .comic-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            z-index: 2;
        }
        
        .badge-new { background: linear-gradient(135deg, #dc2626, #fbbf24); color: white; }
        .badge-popular { background: linear-gradient(135deg, #3b82f6, #8b5cf6); color: white; }
        .badge-completed { background: linear-gradient(135deg, #16a34a, #22c55e); color: white; }
        
        /* Chapter badge */
        .chapter-badge {
            position: absolute;
            bottom: 12px;
            right: 12px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        /* Filter buttons */
        .filter-btn {
            transition: all 0.3s ease;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(251, 191, 36, 0.2);
        }
        
        .filter-btn.active {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: #0f172a;
            border-color: #fbbf24;
        }
        
        /* Progress bar */
        .progress-bar {
            height: 4px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #fbbf24, #f59e0b);
            border-radius: 2px;
        }
        
        /* Rating stars */
        .rating-stars {
            color: #fbbf24;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        /* Comic bubbles */
        .comic-bubble {
            position: relative;
            background: rgba(251, 191, 36, 0.1);
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: 20px;
            padding: 20px;
        }
        
        .comic-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid rgba(251, 191, 36, 0.3);
        }
        
        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .back-to-top.show {
            opacity: 1;
            visibility: visible;
        }
        
        /* Aurora Effect */
        .aurora {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(123, 97, 255, 0.1), rgba(251, 191, 36, 0.1), rgba(59, 130, 246, 0.1));
            opacity: 0.3;
            z-index: -1;
            filter: blur(40px);
        }
        
        /* Pagination */
        .pagination-btn {
            transition: all 0.3s ease;
            background: rgba(30, 41, 59, 0.5);
            border: 1px solid rgba(251, 191, 36, 0.2);
        }
        
        .pagination-btn:hover:not(.disabled) {
            background: rgba(251, 191, 36, 0.2);
        }
        
        .pagination-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Comic Page Preview */
        .page-preview {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .page-preview:hover {
            border-color: #fbbf24;
            transform: scale(1.05);
        }
        
        /* Featured Comic */
        .featured-comic {
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.8), rgba(91, 33, 182, 0.8));
            border-radius: 20px;
            overflow: hidden;
            position: relative;
        }
        
        .featured-overlay {
            background: linear-gradient(to right, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.7) 50%, transparent 100%);
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .featured-overlay {
                background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.7) 50%, transparent 100%);
            }
            
            .comic-thumbnail {
                height: 250px;
            }
        }
        
        /* Reading Progress */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: rgba(30, 41, 59, 0.5);
            z-index: 9999;
        }
        
        .reading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #fbbf24, #f59e0b);
            width: 0%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="relative">

    <!-- Background dengan partikel dan efek cahaya -->
    <canvas id="particle-canvas"></canvas>
    <div class="aurora"></div>
    
    <!-- Header & Navigation -->
    <header class="glass-effect sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <div class="flex items-center">
                    <!-- Gambar logo -->
                    <a href="index.html" class="flex items-center">
                        <img src="assets/images/logo-patrion.png" alt="Logo PATRION" class="w-full h-12">
                    </a>
                </div>
                
                <!-- Desktop Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="index.html" class="nav-link text-white hover:text-fantasy-gold transition-colors">BERANDA</a>
                    <a href="program.html" class="nav-link text-white hover:text-fantasy-gold transition-colors">PROGRAM</a>
                    
                    <!-- Karakter Dropdown -->
                    <div class="relative group">
                        <a href="characters.html" class="nav-link text-white hover:text-fantasy-gold transition-colors flex items-center">
                            KARAKTER <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </a>
                        <div class="absolute left-[-60%] mt-2 w-56 glass-effect rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 border border-fantasy-gold/20">
                            <div class="py-2 grid grid-cols-2 gap-1">
                                <a href="character-detail.html?character=kunna" class="flex items-center px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">
                                    <div class="w-3 h-3 rounded-full bg-fire mr-2"></div>
                                    KUNNA
                                </a>
                                <a href="character-detail.html?character=wabu" class="flex items-center px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">
                                    <div class="w-3 h-3 rounded-full bg-wind mr-2"></div>
                                    WABU
                                </a>
                                <a href="character-detail.html?character=asta" class="flex items-center px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">
                                    <div class="w-3 h-3 rounded-full bg-water mr-2"></div>
                                    ASTA
                                </a>
                                <a href="character-detail.html?character=taran" class="flex items-center px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">
                                    <div class="w-3 h-3 rounded-full bg-earth mr-2"></div>
                                    TARAN
                                </a>
                                <a href="character-detail.html?character=sanu" class="flex items-center px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">
                                    <div class="w-3 h-3 rounded-full bg-thunder mr-2"></div>
                                    SANU
                                </a>
                                <a href="character-detail.html?character=kabi" class="flex items-center px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">
                                    <div class="w-3 h-3 rounded-full bg-nature mr-2"></div>
                                    KABI
                                </a>
                                <a href="character-detail.html?character=arun" class="flex items-center px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">
                                    <div class="w-3 h-3 rounded-full bg-light mr-2"></div>
                                    ARUN
                                </a>
                                <a href="character-detail.html?character=antis" class="flex items-center px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">
                                    <div class="w-3 h-3 rounded-full bg-dark mr-2"></div>
                                    ANTIS
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Informasi Dropdown -->
                    <div class="relative group">
                        <a href="javascript:void(0);" class="nav-link text-white hover:text-fantasy-gold transition-colors flex items-center">
                            INFORMASI <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </a>
                        <div class="absolute left-[-80%] mt-2 w-48 glass-effect rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 border border-fantasy-gold/20">
                            <div class="py-2">
                                <a href="about.html" class="block px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">TENTANG PATRION</a>
                                <a href="javascript:void(0);" class="block px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">KOMIK</a>
                                <a href="javascript:void(0);" class="block px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">NOVEL</a>
                                <a href="javascript:void(0);" class="block px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">GAME</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Lainnya Dropdown -->
                    <div class="relative group">
                        <a href="javascript:void(0);" class="nav-link text-white hover:text-fantasy-gold transition-colors flex items-center">
                            LAINNYA <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </a>
                        <div class="absolute left-[-100%] mt-2 w-48 glass-effect rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 border border-fantasy-gold/20">
                            <div class="py-2">
                                <a href="javascript:void(0);" class="block px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">NORMAL (Gaya realistis)</a>
                                <a href="javascript:void(0);" class="block px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">MICU (Gaya anime)</a>
                                <a href="javascript:void(0);" class="block px-4 py-2 hover:bg-fantasy-purple/30 transition-colors">CHIBI (Gaya chibi)</a>
                            </div>
                        </div>
                    </div>
                </nav>
                
                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>

            <!-- Mobile Navigation -->
            <div id="mobile-menu" class="md:hidden mt-4 hidden glass-effect rounded-lg p-4 border border-fantasy-gold/20">
                <div class="flex flex-col space-y-3">
                    <a href="index.html" class="hover:text-fantasy-gold transition-colors py-2">BERANDA</a>
                    <a href="program.html" class="hover:text-fantasy-gold transition-colors py-2">PROGRAM</a>
                    
                    <div class="py-2">
                        <a href="characters.html" class="hover:text-fantasy-gold transition-colors font-semibold">KARAKTER</a>
                        <div class="mt-2 ml-4 grid grid-cols-2 gap-2">
                            <a href="character-detail.html?character=kunna" class="text-sm hover:text-fantasy-gold flex items-center">
                                <div class="w-2 h-2 rounded-full bg-fire mr-2"></div>
                                KUNNA
                            </a>
                            <a href="character-detail.html?character=wabu" class="text-sm hover:text-fantasy-gold flex items-center">
                                <div class="w-2 h-2 rounded-full bg-wind mr-2"></div>
                                WABU
                            </a>
                            <a href="character-detail.html?character=asta" class="text-sm hover:text-fantasy-gold flex items-center">
                                <div class="w-2 h-2 rounded-full bg-water mr-2"></div>
                                ASTA
                            </a>
                            <a href="character-detail.html?character=taran" class="text-sm hover:text-fantasy-gold flex items-center">
                                <div class="w-2 h-2 rounded-full bg-earth mr-2"></div>
                                TARAN
                            </a>
                            <a href="character-detail.html?character=sanu" class="text-sm hover:text-fantasy-gold flex items-center">
                                <div class="w-2 h-2 rounded-full bg-thunder mr-2"></div>
                                SANU
                            </a>
                            <a href="character-detail.html?character=kabi" class="text-sm hover:text-fantasy-gold flex items-center">
                                <div class="w-2 h-2 rounded-full bg-nature mr-2"></div>
                                KABI
                            </a>
                            <a href="character-detail.html?character=arun" class="text-sm hover:text-fantasy-gold flex items-center">
                                <div class="w-2 h-2 rounded-full bg-light mr-2"></div>
                                ARUN
                            </a>
                            <a href="character-detail.html?character=antis" class="text-sm hover:text-fantasy-gold flex items-center">
                                <div class="w-2 h-2 rounded-full bg-dark mr-2"></div>
                                ANTIS
                            </a>
                        </div>
                    </div>
                    
                    <div class="py-2">
                        <a href="javascript:void(0);" class="hover:text-fantasy-gold transition-colors font-semibold">INFORMASI</a>
                        <div class="mt-2 ml-4 flex flex-col space-y-2">
                            <a href="about.html" class="text-sm hover:text-fantasy-gold">TENTANG PATRION</a>
                            <a href="javascript:void(0);" class="text-sm hover:text-fantasy-gold">KOMIK</a>
                            <a href="javascript:void(0);" class="text-sm hover:text-fantasy-gold">NOVEL</a>
                            <a href="javascript:void(0);" class="text-sm hover:text-fantasy-gold">GAME</a>
                        </div>
                    </div>
                    
                    <div class="py-2">
                        <a href="javascript:void(0);" class="hover:text-fantasy-gold transition-colors font-semibold">LAINNYA</a>
                        <div class="mt-2 ml-4 flex flex-col space-y-2">
                            <a href="javascript:void(0);" class="text-sm hover:text-fantasy-gold">NORMAL (Gaya realistis)</a>
                            <a href="javascript:void(0);" class="text-sm hover:text-fantasy-gold">MICU (Gaya anime)</a>
                            <a href="javascript:void(0);" class="text-sm hover:text-fantasy-gold">CHIBI (Gaya chibi)</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="relative py-20 md:py-28 bg-comic-gradient overflow-hidden">
        <div class="absolute inset-0 bg-black/60"></div>
        <div class="container mx-auto px-4 relative z-10">
            <div class="max-w-6xl mx-auto text-center">
                <h1 class="fantasy-font text-5xl md:text-7xl font-bold text-white mb-6">
                    <span class="gold-text">KOMIK</span> PATRION
                </h1>
                
                <p class="text-xl text-gray-300 mb-8 leading-relaxed max-w-3xl mx-auto">
                    Baca petualangan epik para Patriot Nusantara dalam format komik digital berkualitas tinggi. 
                    Gratis dan selalu update!
                </p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="
                                const comicsList = document.getElementById('comics-list');
                                const comicsListY = comicsList.getBoundingClientRect().top + window.scrollY - 20;
                                window.scrollTo({ top: comicsListY, behavior: 'smooth' });
                            "
                            class="bg-gold-gradient hover:opacity-90 text-fantasy-dark font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105 shadow-lg">
                        <i class="fas fa-book-open mr-2"></i> Mulai Baca
                    </button>
                    <button onclick="
                                const featured = document.getElementById('featured-comic');
                                const featuredY = featured.getBoundingClientRect().top + window.scrollY - 20;
                                window.scrollTo({ top: featuredY, behavior: 'smooth' });
                            "
                            class="border-2 border-fantasy-gold text-fantasy-gold hover:bg-fantasy-gold hover:text-fantasy-dark font-bold py-3 px-8 rounded-full transition-all">
                        <i class="fas fa-star mr-2"></i> Komik Unggulan
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Comic Stats -->
    <section class="py-12 glass-effect">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <div class="text-center">
                    <div class="text-4xl font-bold text-fantasy-gold mb-2" id="total-comics">25+</div>
                    <div class="text-gray-400">Judul Komik</div>
                </div>
                <div class="text-center">
                    <div class="text-4xl font-bold text-fantasy-gold mb-2" id="total-chapters">300+</div>
                    <div class="text-gray-400">Chapter</div>
                </div>
                <div class="text-center">
                    <div class="text-4xl font-bold text-fantasy-gold mb-2" id="total-reads">2.5M+</div>
                    <div class="text-gray-400">Total Baca</div>
                </div>
                <div class="text-center">
                    <div class="text-4xl font-bold text-fantasy-gold mb-2" id="active-readers">50K+</div>
                    <div class="text-gray-400">Pembaca Aktif</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Comic -->
    <section id="featured-comic" class="py-16">
        <div class="container mx-auto px-4">
            <h2 class="section-title fantasy-font text-3xl font-bold text-center text-white mb-12">
                <i class="fas fa-crown text-fantasy-gold mr-2"></i> Komik Unggulan
            </h2>
            
            <div class="featured-comic">
                <div class="grid grid-cols-1 lg:grid-cols-2">
                    <div class="featured-overlay p-8 lg:p-12 flex flex-col justify-center">
                        <div class="mb-4">
                            <span class="badge-new comic-badge">BARU!</span>
                        </div>
                        <h3 class="fantasy-font text-3xl md:text-4xl text-white mb-4">PATRION: Kebangkitan Api Nusantara</h3>
                        <div class="flex items-center space-x-4 mb-4">
                            <div class="flex items-center">
                                <div class="rating-stars mr-2">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                                <span class="text-gray-300">4.7</span>
                            </div>
                            <span class="text-gray-400">•</span>
                            <span class="text-gray-300">Chapter 15</span>
                            <span class="text-gray-400">•</span>
                            <span class="text-gray-300">Ongoing</span>
                        </div>
                        
                        <p class="text-gray-300 mb-6 leading-relaxed">
                            Kunna, Guardian of Fire, harus menghadapi ancaman baru yang mengancam keseimbangan alam. 
                            Dengan kekuatan api Nusantara, dia memulai perjalanan epik untuk menemukan artefak kuno 
                            yang dapat menyelamatkan dunia dari kehancuran.
                        </p>
                        
                        <div class="flex flex-wrap gap-3 mb-6">
                            <span class="px-3 py-1 bg-red-900/30 text-red-300 rounded-full text-sm">Action</span>
                            <span class="px-3 py-1 bg-blue-900/30 text-blue-300 rounded-full text-sm">Fantasy</span>
                            <span class="px-3 py-1 bg-yellow-900/30 text-yellow-300 rounded-full text-sm">Adventure</span>
                            <span class="px-3 py-1 bg-purple-900/30 text-purple-300 rounded-full text-sm">Superhero</span>
                        </div>
                        
                        <div class="flex flex-col sm:flex-row gap-4">
                            <a href="komik-detail.html?id=1" 
                               class="bg-gold-gradient hover:opacity-90 text-fantasy-dark font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105 shadow-lg text-center">
                                <i class="fas fa-play mr-2"></i> Baca Sekarang
                            </a>
                            <button onclick="addToLibrary(1)" 
                                    class="border-2 border-fantasy-gold text-fantasy-gold hover:bg-fantasy-gold hover:text-fantasy-dark font-bold py-3 px-8 rounded-full transition-all">
                                <i class="fas fa-bookmark mr-2"></i> Simpan
                            </button>
                        </div>
                    </div>
                    
                    <div class="relative">
                        <img src="assets/images/comics/featured-comic.jpg" alt="Featured Comic" 
                             class="w-full h-full object-cover min-h-[400px]">
                        <div class="absolute inset-0 bg-gradient-to-l from-transparent to-black/30 lg:bg-none"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Comics Filter -->
    <section class="py-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-wrap gap-3 justify-center mb-8">
                <button class="filter-btn active text-white py-2 px-6 rounded-full" data-filter="all">
                    Semua Komik
                </button>
                <button class="filter-btn text-white py-2 px-6 rounded-full" data-filter="ongoing">
                    <i class="fas fa-sync-alt mr-2"></i> Ongoing
                </button>
                <button class="filter-btn text-white py-2 px-6 rounded-full" data-filter="completed">
                    <i class="fas fa-check-circle mr-2"></i> Completed
                </button>
                <button class="filter-btn text-white py-2 px-6 rounded-full" data-filter="action">
                    <i class="fas fa-fire mr-2"></i> Action
                </button>
                <button class="filter-btn text-white py-2 px-6 rounded-full" data-filter="fantasy">
                    <i class="fas fa-hat-wizard mr-2"></i> Fantasy
                </button>
            </div>
            
            <!-- Search and Sort -->
            <div class="flex flex-col md:flex-row justify-between items-center gap-4 mb-8">
                <div class="relative w-full md:w-auto">
                    <input type="text" id="comic-search" 
                           class="glass-effect text-white py-3 px-12 rounded-full w-full md:w-96 focus:outline-none focus:ring-2 focus:ring-fantasy-gold"
                           placeholder="Cari judul komik...">
                    <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                </div>
                
                <div class="flex gap-3">
                    <select id="sortSelect" class="glass-effect text-white py-2 px-4 rounded-lg border border-fantasy-gold/20">
                        <option value="latest">Terbaru</option>
                        <option value="popular">Populer</option>
                        <option value="rating">Rating</option>
                        <option value="az">A-Z</option>
                        <option value="za">Z-A</option>
                    </select>
                    
                    <select id="viewSelect" class="glass-effect text-white py-2 px-4 rounded-lg border border-fantasy-gold/20">
                        <option value="grid">Grid View</option>
                        <option value="list">List View</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- Comics List -->
    <section id="comics-list" class="py-16">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center mb-8">
                <h2 class="fantasy-font text-3xl font-bold text-white">
                    Semua Komik
                </h2>
                <div class="text-gray-400" id="comic-count">
                    Menampilkan <span class="text-fantasy-gold">25</span> komik
                </div>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 comic-container">
                <!-- Comic cards akan diisi oleh JavaScript -->
            </div>
            
            <!-- Pagination -->
            <div class="flex justify-center items-center space-x-4 mt-12">
                <button id="prevPage" class="pagination-btn py-2 px-4 rounded-lg disabled">
                    <i class="fas fa-chevron-left mr-2"></i> Sebelumnya
                </button>
                
                <div class="flex space-x-2">
                    <button class="pagination-btn py-2 px-4 rounded-lg bg-fantasy-gold/20 text-fantasy-gold">1</button>
                    <button class="pagination-btn py-2 px-4 rounded-lg hover:bg-fantasy-gold/20">2</button>
                    <button class="pagination-btn py-2 px-4 rounded-lg hover:bg-fantasy-gold/20">3</button>
                    <span class="text-gray-400 py-2">...</span>
                    <button class="pagination-btn py-2 px-4 rounded-lg hover:bg-fantasy-gold/20">5</button>
                </div>
                
                <button id="nextPage" class="pagination-btn py-2 px-4 rounded-lg">
                    Selanjutnya <i class="fas fa-chevron-right ml-2"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Recently Updated -->
    <section class="py-16 relative overflow-hidden">
        <div class="absolute inset-0 bg-fantasy-gradient opacity-90"></div>
        <div class="container mx-auto px-4 relative z-10">
            <h2 class="section-title fantasy-font text-3xl font-bold text-center text-white mb-12">
                <i class="fas fa-history text-fantasy-gold mr-2"></i> Baru Diupdate
            </h2>
            
            <div class="swiper updated-swiper">
                <div class="swiper-wrapper">
                    <!-- Updated comics slides akan diisi oleh JS -->
                </div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 relative">
        <div class="absolute inset-0 bg-black"></div>
        <div class="container mx-auto px-4 relative z-10">
            <div class="max-w-4xl mx-auto text-center">
                <div class="comic-bubble mb-8">
                    <h3 class="fantasy-font text-2xl text-white mb-4">Siap Memulai Petualangan?</h3>
                    <p class="text-gray-300">
                        Bergabunglah dengan jutaan pembaca lainnya dan jelajahi dunia fantasi Nusantara melalui komik PATRION.
                        Gratis, aman, dan pastinya seru!
                    </p>
                </div>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="#comics-list" 
                       class="bg-gold-gradient hover:opacity-90 text-fantasy-dark font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105 shadow-lg">
                        <i class="fas fa-book-reader mr-2"></i> Mulai Membaca
                    </a>
                    <button onclick="showRegistrationModal()" 
                            class="border-2 border-fantasy-gold text-fantasy-gold hover:bg-fantasy-gold hover:text-fantasy-dark font-bold py-3 px-8 rounded-full transition-all">
                        <i class="fas fa-user-plus mr-2"></i> Daftar Gratis
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="glass-effect py-12 border-t border-fantasy-gold/20">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <img src="assets/images/logo-patrion.png" alt="Logo PATRION" class="h-12 mb-4">
                    <p class="text-gray-400 text-sm">
                        Dunia fantasi Nusantara dengan kekuatan elemen dan petualangan epik.
                    </p>
                </div>
                
                <div>
                    <h3 class="fantasy-font text-fantasy-gold mb-4">Eksplorasi</h3>
                    <div class="flex flex-col space-y-2">
                        <a href="characters.html" class="text-gray-400 hover:text-fantasy-gold transition-colors">Karakter</a>
                        <a href="program.html" class="text-gray-400 hover:text-fantasy-gold transition-colors">Program</a>
                        <a href="index.html#wahana" class="text-gray-400 hover:text-fantasy-gold transition-colors">Wahana</a>
                    </div>
                </div>
                
                <div>
                    <h3 class="fantasy-font text-fantasy-gold mb-4">Bantuan</h3>
                    <div class="flex flex-col space-y-2">
                        <a href="javascript:void(0);" class="text-gray-400 hover:text-fantasy-gold transition-colors">Pusat Bantuan</a>
                        <a href="javascript:void(0);" class="text-gray-400 hover:text-fantasy-gold transition-colors">Komunitas</a>
                        <a href="javascript:void(0);" class="text-gray-400 hover:text-fantasy-gold transition-colors">Kontak</a>
                    </div>
                </div>
                
                <div>
                    <h3 class="fantasy-font text-fantasy-gold mb-4">Terhubung</h3>
                    <div class="flex space-x-4 mb-4">
                        <a href="https://www.facebook.com/patrion.universe" target="_blank" class="text-gray-400 hover:text-fantasy-gold transition-colors text-xl">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.instagram.com/patrionofficial" target="_blank" class="text-gray-400 hover:text-fantasy-gold transition-colors text-xl">
                            <i class="fab fa-square-facebook"></i>
                        </a>
                        <a href="https://www.tiktok.com/@patrionofficial" target="_blank" class="text-gray-400 hover:text-fantasy-gold transition-colors text-xl">
                            <i class="fab fa-tiktok"></i>
                        </a>
                    </div>
                    <div class="text-sm text-gray-400">
                        <p>Email: info@patrion.com</p>
                        <p>Support: support@patrion.com</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-700 pt-8 text-center">
                <p class="text-gray-400 text-sm">
                    "Karakter", "Artefak" dan "Alam Semesta Patrion" adalah merek dagang dari <span class="text-fantasy-gold">PATRION</span>.
                    © 2024 PATRION. All Rights Reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="backToTop" class="back-to-top bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 text-black font-bold py-1 px-3 rounded-full shadow-lg transform hover:scale-105 transition-all duration-300">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Registration Modal -->
    <div id="registrationModal" class="fixed inset-0 bg-black/90 hidden z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-8 max-w-md w-full relative">
            <button onclick="closeRegistrationModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <h3 class="fantasy-font text-2xl text-white mb-2">Daftar Gratis</h3>
            <p class="text-gray-400 mb-6">Mulai petualangan komik PATRION sekarang juga!</p>
            
            <form id="registerForm" class="space-y-4">
                <div>
                    <input type="text" placeholder="Nama Lengkap" 
                           class="w-full glass-effect text-white py-3 px-4 rounded-lg border border-gray-700 focus:border-fantasy-gold focus:outline-none">
                </div>
                
                <div>
                    <input type="email" placeholder="Email" 
                           class="w-full glass-effect text-white py-3 px-4 rounded-lg border border-gray-700 focus:border-fantasy-gold focus:outline-none">
                </div>
                
                <div>
                    <input type="password" placeholder="Password" 
                           class="w-full glass-effect text-white py-3 px-4 rounded-lg border border-gray-700 focus:border-fantasy-gold focus:outline-none">
                </div>
                
                <button type="submit" 
                        class="w-full bg-gold-gradient hover:opacity-90 text-fantasy-dark font-bold py-3 px-8 rounded-full transition-all">
                    Daftar Sekarang
                </button>
            </form>
            
            <p class="text-gray-400 text-sm mt-4 text-center">
                Dengan mendaftar, Anda menyetujui 
                <a href="javascript:void(0);" class="text-fantasy-gold hover:underline">Syarat & Ketentuan</a>
            </p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
        // Comic Data
        const comics = [
            {
                id: 1,
                title: "PATRION: Kebangkitan Api Nusantara",
                description: "Kunna, Guardian of Fire, memulai perjalanan epik untuk menemukan artefak kuno yang dapat menyelamatkan dunia.",
                image: "assets/images/comics/comic-1.jpg",
                status: "ongoing",
                chapters: 15,
                latestChapter: "Chapter 15: Api Abadi",
                rating: 4.7,
                views: "250K",
                genre: ["action", "fantasy", "adventure"],
                author: "Abdurrahman GM",
                artist: "Siti Nurhaliza",
                updated: "2 hari lalu",
                badge: "new"
            },
            {
                id: 2,
                title: "WABU: Sang Penari Angin",
                description: "Petualangan Wabu melintasi pulau-pulau Nusantara dengan kecepatan angin yang tak tertandingi.",
                image: "assets/images/comics/comic-2.jpg",
                status: "ongoing",
                chapters: 12,
                latestChapter: "Chapter 12: Pusaran Angin",
                rating: 4.5,
                views: "180K",
                genre: ["action", "fantasy"],
                author: "Budi Santoso",
                artist: "Citra Kirana",
                updated: "1 minggu lalu",
                badge: "popular"
            },
            {
                id: 3,
                title: "ASTA: Guardian of Water",
                description: "Misteri laut dalam dan kekuatan air yang belum pernah terungkap sebelumnya.",
                image: "assets/images/comics/comic-3.jpg",
                status: "completed",
                chapters: 24,
                latestChapter: "Chapter 24: Final Wave",
                rating: 4.8,
                views: "320K",
                genre: ["fantasy", "adventure"],
                author: "Dewi Lestari",
                artist: "Rizky Febian",
                updated: "1 bulan lalu",
                badge: "completed"
            },
            {
                id: 4,
                title: "TARAN: Kekuatan Bumi",
                description: "Perlindungan terakhir bumi Nusantara dari ancaman bawah tanah yang mengerikan.",
                image: "assets/images/comics/comic-4.jpg",
                status: "ongoing",
                chapters: 8,
                latestChapter: "Chapter 8: Gempa Besar",
                rating: 4.3,
                views: "120K",
                genre: ["action", "fantasy"],
                author: "Eko Sutrisno",
                artist: "Ahmad Rizki",
                updated: "3 hari lalu",
                badge: null
            },
            {
                id: 5,
                title: "SANU: Petir Nusantara",
                description: "Kekuatan petir yang dapat menghancurkan musuh dalam sekejap mata.",
                image: "assets/images/comics/comic-5.jpg",
                status: "ongoing",
                chapters: 10,
                latestChapter: "Chapter 10: Thunder Strike",
                rating: 4.6,
                views: "150K",
                genre: ["action", "fantasy"],
                author: "Fajar Nugroho",
                artist: "Maya Indah",
                updated: "5 hari lalu",
                badge: "new"
            },
            {
                id: 6,
                title: "KABI: Penjaga Alam",
                description: "Harmoni antara manusia dan alam dalam petualangan penuh makna.",
                image: "assets/images/comics/comic-6.jpg",
                status: "ongoing",
                chapters: 7,
                latestChapter: "Chapter 7: Hutan Terlarang",
                rating: 4.4,
                views: "90K",
                genre: ["fantasy", "adventure"],
                author: "Gita Savitri",
                artist: "Nadia Putri",
                updated: "1 minggu lalu",
                badge: null
            },
            {
                id: 7,
                title: "ARUN: Cahaya Nusantara",
                description: "Cahaya harapan di tengah kegelapan yang menyelimuti Nusantara.",
                image: "assets/images/comics/comic-7.jpg",
                status: "completed",
                chapters: 18,
                latestChapter: "Chapter 18: Final Light",
                rating: 4.9,
                views: "280K",
                genre: ["fantasy", "adventure"],
                author: "Hendra Kurniawan",
                artist: "Olivia Wijaya",
                updated: "2 bulan lalu",
                badge: "completed"
            },
            {
                id: 8,
                title: "ANTIS: Bayangan Gelap",
                description: "Konflik batin antara kegelapan dan cahaya dalam diri seorang pahlawan.",
                image: "assets/images/comics/comic-8.jpg",
                status: "ongoing",
                chapters: 6,
                latestChapter: "Chapter 6: Shadow Rise",
                rating: 4.2,
                views: "80K",
                genre: ["action", "fantasy"],
                author: "Iwan Setiawan",
                artist: "Putri Ayu",
                updated: "2 hari lalu",
                badge: null
            }
        ];

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeComicsPage();
            setupEventListeners();
            initializeUpdatedSwiper();
        });

        function initializeComicsPage() {
            renderComicCards(comics);
            renderUpdatedComics();
            updateComicCount();
        }

        function renderComicCards(comicsToRender) {
            const container = document.querySelector('.comic-container');
            if (!container) return;
            
            container.innerHTML = '';
            
            comicsToRender.forEach(comic => {
                const card = createComicCard(comic);
                container.appendChild(card);
            });
            
            // Add animation
            const cards = container.querySelectorAll('.comic-card');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
                card.classList.add('fade-in');
            });
        }

        function createComicCard(comic) {
            const card = document.createElement('div');
            card.className = 'comic-card';
            card.dataset.id = comic.id;
            card.dataset.genre = comic.genre.join(' ');
            card.dataset.status = comic.status;
            
            // Badge class
            let badgeClass = '';
            let badgeText = '';
            switch(comic.badge) {
                case 'new': badgeClass = 'badge-new'; badgeText = 'BARU!'; break;
                case 'popular': badgeClass = 'badge-popular'; badgeText = 'POPULER'; break;
                case 'completed': badgeClass = 'badge-completed'; badgeText = 'SELESAI'; break;
            }
            
            // Status color
            let statusColor = comic.status === 'ongoing' ? 'text-green-400' : 'text-blue-400';
            let statusIcon = comic.status === 'ongoing' ? 'fas fa-sync-alt' : 'fas fa-check-circle';
            
            // Rating stars
            const stars = generateRatingStars(comic.rating);
            
            card.innerHTML = `
                <div class="comic-thumbnail">
                    <img src="${comic.image}" alt="${comic.title}">
                    ${comic.badge ? `<span class="${badgeClass} comic-badge">${badgeText}</span>` : ''}
                    <span class="chapter-badge">Ch. ${comic.chapters}</span>
                </div>
                
                <div class="p-4">
                    <h3 class="fantasy-font text-lg text-white mb-2 line-clamp-2">${comic.title}</h3>
                    
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-2">
                            <div class="rating-stars text-sm">
                                ${stars}
                            </div>
                            <span class="text-gray-400 text-sm">${comic.rating}</span>
                        </div>
                        <div class="flex items-center ${statusColor} text-sm">
                            <i class="${statusIcon} mr-1"></i>
                            <span>${comic.status === 'ongoing' ? 'Ongoing' : 'Completed'}</span>
                        </div>
                    </div>
                    
                    <p class="text-gray-400 text-sm mb-4 line-clamp-2">${comic.description}</p>
                    
                    <div class="flex items-center justify-between text-sm text-gray-500 mb-3">
                        <div class="flex items-center">
                            <i class="far fa-eye mr-1"></i>
                            <span>${comic.views}</span>
                        </div>
                        <div class="text-gray-400">
                            <i class="far fa-clock mr-1"></i>
                            <span>${comic.updated}</span>
                        </div>
                    </div>
                    
                    <div class="flex flex-wrap gap-2 mb-4">
                        ${comic.genre.map(g => `
                            <span class="px-2 py-1 bg-gray-800/50 text-gray-300 rounded text-xs">
                                ${g.charAt(0).toUpperCase() + g.slice(1)}
                            </span>
                        `).join('')}
                    </div>
                    
                    <div class="flex justify-between">
                        <a href="komik-detail.html?id=${comic.id}" 
                           class="text-fantasy-gold hover:text-yellow-300 text-sm font-medium">
                            <i class="fas fa-book-open mr-1"></i> Baca
                        </a>
                        <button onclick="event.stopPropagation(); addToLibrary(${comic.id})" 
                                class="text-gray-400 hover:text-fantasy-gold text-sm font-medium">
                            <i class="far fa-bookmark mr-1"></i> Simpan
                        </button>
                    </div>
                </div>
            `;
            
            // Click event for card
            card.addEventListener('click', (e) => {
                if (!e.target.closest('button') && !e.target.closest('a')) {
                    window.location.href = `komik-detail.html?id=${comic.id}`;
                }
            });
            
            return card;
        }

        function generateRatingStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            
            for (let i = 1; i <= 5; i++) {
                if (i <= fullStars) {
                    stars += '<i class="fas fa-star"></i>';
                } else if (i === fullStars + 1 && hasHalfStar) {
                    stars += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            
            return stars;
        }

        function renderUpdatedComics() {
            const swiperContainer = document.querySelector('.updated-swiper .swiper-wrapper');
            if (!swiperContainer) return;
            
            swiperContainer.innerHTML = '';
            
            // Take first 6 comics as recently updated
            comics.slice(0, 6).forEach(comic => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                
                slide.innerHTML = `
                    <div class="comic-card">
                        <div class="comic-thumbnail">
                            <img src="${comic.image}" alt="${comic.title}">
                            ${comic.badge ? `<span class="${comic.badge === 'new' ? 'badge-new' : comic.badge === 'popular' ? 'badge-popular' : 'badge-completed'} comic-badge">
                                ${comic.badge === 'new' ? 'BARU!' : comic.badge === 'popular' ? 'POPULER' : 'SELESAI'}
                            </span>` : ''}
                        </div>
                        
                        <div class="p-4">
                            <h3 class="fantasy-font text-lg text-white mb-2 line-clamp-1">${comic.title}</h3>
                            
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-gray-400 text-sm">Ch. ${comic.chapters}</span>
                                <span class="text-gray-400 text-sm">
                                    <i class="far fa-clock mr-1"></i>${comic.updated}
                                </span>
                            </div>
                            
                            <a href="komik-detail.html?id=${comic.id}" 
                               class="block w-full bg-gray-800/50 hover:bg-gray-700 text-white text-center py-2 rounded-lg transition-colors text-sm">
                                Lanjut Baca
                            </a>
                        </div>
                    </div>
                `;
                
                swiperContainer.appendChild(slide);
            });
            
            // Initialize Swiper
            new Swiper('.updated-swiper', {
                loop: true,
                autoplay: {
                    delay: 3000,
                    disableOnInteraction: false,
                },
                speed: 600,
                grabCursor: true,
                spaceBetween: 20,
                slidesPerView: 1,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                breakpoints: {
                    640: { slidesPerView: 2 },
                    1024: { slidesPerView: 3 },
                    1280: { slidesPerView: 4 }
                }
            });
        }

        function setupEventListeners() {
            // Filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Remove active class from all buttons
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    const filter = this.dataset.filter;
                    filterComics(filter);
                });
            });
            
            // Search input
            const searchInput = document.getElementById('comic-search');
            if (searchInput) {
                searchInput.addEventListener('input', function() {
                    searchComics(this.value);
                });
            }
            
            // Sort select
            const sortSelect = document.getElementById('sortSelect');
            if (sortSelect) {
                sortSelect.addEventListener('change', function() {
                    sortComics(this.value);
                });
            }
            
            // View select
            const viewSelect = document.getElementById('viewSelect');
            if (viewSelect) {
                viewSelect.addEventListener('change', function() {
                    changeView(this.value);
                });
            }
            
            // Registration form
            const registerForm = document.getElementById('registerForm');
            if (registerForm) {
                registerForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    registerUser();
                });
            }
            
            // Back to top
            initializeBackToTop();
            
            // Mobile menu
            setupMobileMenu();
            
            // Particles
            initializeParticles();
        }

        function filterComics(filter) {
            let filteredComics;
            
            if (filter === 'all') {
                filteredComics = comics;
            } else if (filter === 'ongoing' || filter === 'completed') {
                filteredComics = comics.filter(comic => comic.status === filter);
            } else {
                filteredComics = comics.filter(comic => comic.genre.includes(filter));
            }
            
            renderComicCards(filteredComics);
            updateComicCount(filteredComics.length);
        }

        function searchComics(query) {
            if (!query.trim()) {
                renderComicCards(comics);
                updateComicCount(comics.length);
                return;
            }
            
            const filteredComics = comics.filter(comic => 
                comic.title.toLowerCase().includes(query.toLowerCase()) ||
                comic.description.toLowerCase().includes(query.toLowerCase()) ||
                comic.author.toLowerCase().includes(query.toLowerCase())
            );
            
            renderComicCards(filteredComics);
            updateComicCount(filteredComics.length);
        }

        function sortComics(sortBy) {
            let sortedComics = [...comics];
            
            switch(sortBy) {
                case 'latest':
                    // Simulate latest by id (higher id = newer)
                    sortedComics.sort((a, b) => b.id - a.id);
                    break;
                    
                case 'popular':
                    sortedComics.sort((a, b) => {
                        const viewsA = parseFloat(a.views.replace('K', '')) * 1000 || parseInt(a.views);
                        const viewsB = parseFloat(b.views.replace('K', '')) * 1000 || parseInt(b.views);
                        return viewsB - viewsA;
                    });
                    break;
                    
                case 'rating':
                    sortedComics.sort((a, b) => b.rating - a.rating);
                    break;
                    
                case 'az':
                    sortedComics.sort((a, b) => a.title.localeCompare(b.title));
                    break;
                    
                case 'za':
                    sortedComics.sort((a, b) => b.title.localeCompare(a.title));
                    break;
            }
            
            const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
            if (activeFilter !== 'all') {
                if (activeFilter === 'ongoing' || activeFilter === 'completed') {
                    sortedComics = sortedComics.filter(comic => comic.status === activeFilter);
                } else {
                    sortedComics = sortedComics.filter(comic => comic.genre.includes(activeFilter));
                }
            }
            
            renderComicCards(sortedComics);
            updateComicCount(sortedComics.length);
        }

        function changeView(viewType) {
            const container = document.querySelector('.comic-container');
            if (!container) return;
            
            if (viewType === 'list') {
                container.classList.remove('grid-cols-1', 'sm:grid-cols-2', 'lg:grid-cols-3', 'xl:grid-cols-4');
                container.classList.add('grid-cols-1');
                
                // Update cards for list view
                document.querySelectorAll('.comic-card').forEach(card => {
                    card.classList.add('flex');
                    const thumbnail = card.querySelector('.comic-thumbnail');
                    const content = card.querySelector('.p-4');
                    
                    if (thumbnail && content) {
                        thumbnail.classList.remove('h-64');
                        thumbnail.classList.add('w-48', 'flex-shrink-0');
                        content.classList.add('flex-1');
                    }
                });
            } else {
                container.classList.remove('grid-cols-1');
                container.classList.add('grid-cols-1', 'sm:grid-cols-2', 'lg:grid-cols-3', 'xl:grid-cols-4');
                
                // Reset cards for grid view
                document.querySelectorAll('.comic-card').forEach(card => {
                    card.classList.remove('flex');
                    const thumbnail = card.querySelector('.comic-thumbnail');
                    const content = card.querySelector('.p-4');
                    
                    if (thumbnail && content) {
                        thumbnail.classList.remove('w-48', 'flex-shrink-0');
                        thumbnail.classList.add('h-64');
                        content.classList.remove('flex-1');
                    }
                });
            }
        }

        function updateComicCount(count) {
            const countElement = document.getElementById('comic-count');
            if (countElement) {
                const displayCount = count || comics.length;
                countElement.innerHTML = `Menampilkan <span class="text-fantasy-gold">${displayCount}</span> komik`;
            }
        }

        // Back to Top functionality
        function initializeBackToTop() {
            const backToTopBtn = document.getElementById('backToTop');
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopBtn.classList.add('show');
                } else {
                    backToTopBtn.classList.remove('show');
                }
            });
            
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }

        // Mobile menu functionality
        function setupMobileMenu() {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });
            }
            
            // Smooth scroll untuk navigasi
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if(targetId !== '#') {
                        const targetElement = document.querySelector(targetId);
                        if(targetElement) {
                            window.scrollTo({
                                top: targetElement.offsetTop - 100,
                                behavior: 'smooth'
                            });
                            // Tutup mobile menu jika terbuka
                            document.getElementById('mobile-menu').classList.add('hidden');
                        }
                    }
                });
            });
        }

        // Particle background
        function initializeParticles() {
            const canvas = document.getElementById('particle-canvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            // Particle array
            const particles = [];
            const particleCount = 100;
            
            // Create particles
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 2 + 1,
                    speedX: (Math.random() - 0.5) * 0.5,
                    speedY: (Math.random() - 0.5) * 0.5,
                    color: `rgba(${Math.floor(Math.random() * 100 + 155)}, ${Math.floor(Math.random() * 100 + 155)}, ${Math.floor(Math.random() * 255)}, ${Math.random() * 0.5 + 0.2})`
                });
            }
            
            // Animation loop
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Update and draw particles
                particles.forEach(particle => {
                    particle.x += particle.speedX;
                    particle.y += particle.speedY;
                    
                    // Wrap around edges
                    if (particle.x < 0) particle.x = canvas.width;
                    if (particle.x > canvas.width) particle.x = 0;
                    if (particle.y < 0) particle.y = canvas.height;
                    if (particle.y > canvas.height) particle.y = 0;
                    
                    // Draw particle
                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.size, 0, Math.PI * 2);
                    ctx.fillStyle = particle.color;
                    ctx.fill();
                });
                
                requestAnimationFrame(animate);
            }
            
            animate();
            
            // Resize handler
            window.addEventListener('resize', function() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        }

        // Modal functions
        function showRegistrationModal() {
            const modal = document.getElementById('registrationModal');
            if (modal) {
                modal.classList.remove('hidden');
            }
        }

        function closeRegistrationModal() {
            const modal = document.getElementById('registrationModal');
            if (modal) {
                modal.classList.add('hidden');
            }
        }

        function registerUser() {
            alert('Pendaftaran berhasil! Silakan cek email untuk verifikasi.');
            closeRegistrationModal();
        }

        // Library functions
        function addToLibrary(comicId) {
            const comic = comics.find(c => c.id === comicId);
            if (comic) {
                alert(`"${comic.title}" telah ditambahkan ke library Anda!`);
                // In real implementation, save to localStorage or send to server
            }
        }

        // Global functions
        window.addToLibrary = addToLibrary;
        window.showRegistrationModal = showRegistrationModal;
        window.closeRegistrationModal = closeRegistrationModal;
    </script>
</body>
</html>