<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Pembelajaran Bahasa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #3b82f6;
            --primary-dark: #1d4ed8;
            --secondary: #10b981;
            --secondary-dark: #059669;
            --accent: #8b5cf6;
        }
        
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }
        
        .card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            font-weight: 600;
            padding: 12px 28px;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: white;
            font-weight: 600;
            padding: 12px 28px;
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }
        
        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
        }
        
        .option-card {
            border: 2px solid #e5e7eb;
            border-radius: 14px;
            padding: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }
        
        .option-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.15);
        }
        
        .option-card.selected {
            border-color: var(--primary);
            background-color: #eff6ff;
            transform: scale(1.02);
        }
        
        .option-card.correct {
            border-color: var(--secondary);
            background-color: #d1fae5;
            animation: pulseCorrect 1s;
        }
        
        .option-card.incorrect {
            border-color: #ef4444;
            background-color: #fee2e2;
        }
        
        .progress-bar {
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
            background-color: #e5e7eb;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s ease;
            background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
        }
        
        .flag-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .indonesia-flag {
            background: linear-gradient(135deg, #e70011 0%, #ff5e00 100%);
            color: white;
        }
        
        .english-flag {
            background: linear-gradient(135deg, #012169 0%, #C8102E 100%);
            color: white;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        .slide-in {
            animation: slideIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes pulseCorrect {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        
        .bounce {
            animation: bounce 0.5s;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .vocab-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        
        .word-display {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 10px;
        }
        
        .phonetic {
            color: #64748b;
            font-style: italic;
            margin-bottom: 20px;
        }
        
        .translation {
            font-size: 1.5rem;
            color: var(--primary-dark);
            font-weight: 600;
        }
        
        .category-badge {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            margin-top: 15px;
        }
        
        .score-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-weight: 700;
            font-size: 1.2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .streak-counter {
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            color: #92400e;
        }
        
        .streak-fire {
            color: #f59e0b;
            margin-right: 8px;
            animation: flame 1.5s infinite alternate;
        }
        
        @keyframes flame {
            from { transform: scale(1); }
            to { transform: scale(1.2); }
        }
    </style>
</head>
<body class="min-h-screen py-8 px-4">
    <div class="max-w-6xl mx-auto">
        <!-- Header -->
        <header class="text-center mb-10 fade-in">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">
                <span class="text-blue-600">Game</span> 
                <span class="text-green-600">Pembelajaran</span> 
                <span class="text-purple-600">Bahasa</span>
            </h1>
            <p class="text-gray-600 text-lg max-w-3xl mx-auto">
                Tingkatkan kemampuan bahasa Indonesia dan Inggris Anda dengan game edukasi yang menyenangkan!
            </p>
            <div class="flex justify-center items-center mt-6 space-x-6">
                <div class="flex items-center">
                    <div class="flag-icon indonesia-flag mr-2">
                        <i class="fas fa-flag"></i>
                    </div>
                    <span class="font-medium text-gray-700">Bahasa Indonesia</span>
                </div>
                <div class="text-gray-400">
                    <i class="fas fa-exchange-alt"></i>
                </div>
                <div class="flex items-center">
                    <div class="flag-icon english-flag mr-2">
                        <i class="fas fa-flag-usa"></i>
                    </div>
                    <span class="font-medium text-gray-700">English</span>
                </div>
            </div>
        </header>

        <!-- Main Game Container -->
        <main class="card p-6 md:p-8 slide-in">
            <!-- Start Screen -->
            <div id="start-screen" class="text-center fade-in">
                <div class="mb-10">
                    <div class="inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-blue-100 to-indigo-100 mb-6">
                        <i class="fas fa-language text-5xl text-blue-600"></i>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">Selamat Datang!</h2>
                    <p class="text-gray-600 max-w-2xl mx-auto mb-8">
                        Game ini akan menguji pengetahuan Anda tentang kosakata bahasa Indonesia dan Inggris. 
                        Pilih mode pembelajaran yang diinginkan dan selesaikan 10 pertanyaan untuk meningkatkan kemampuan bahasa Anda.
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto mb-10">
                        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-2xl border border-blue-100">
                            <div class="text-4xl text-blue-600 mb-4">
                                <i class="fas fa-book-open"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-2">Mode Pembelajaran</h3>
                            <p class="text-gray-600 text-sm">
                                Pelajari kosakata baru dengan penjelasan detail dan contoh penggunaan dalam kalimat.
                            </p>
                        </div>
                        
                        <div class="bg-gradient-to-br from-green-50 to-emerald-50 p-6 rounded-2xl border border-green-100">
                            <div class="text-4xl text-green-600 mb-4">
                                <i class="fas fa-gamepad"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-2">Mode Kuis</h3>
                            <p class="text-gray-600 text-sm">
                                Uji pengetahuan Anda dengan kuis interaktif dan dapatkan skor tertinggi!
                            </p>
                        </div>
                    </div>
                    
                    <div class="max-w-md mx-auto bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-2xl mb-8">
                        <h4 class="font-bold text-lg text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-cogs text-blue-500 mr-3"></i> Pengaturan Game
                        </h4>
                        
                        <div class="mb-6">
                            <label class="block text-gray-700 text-left mb-3 font-medium">Pilih Mode:</label>
                            <div class="flex space-x-4">
                                <button id="mode-indo-to-eng" class="mode-btn flex-1 py-3 px-4 rounded-lg border-2 border-blue-500 bg-white text-blue-600 font-medium">
                                    <i class="fas fa-arrow-right mr-2"></i> ID → EN
                                </button>
                                <button id="mode-eng-to-indo" class="mode-btn flex-1 py-3 px-4 rounded-lg border-2 border-gray-300 bg-white text-gray-700 font-medium">
                                    <i class="fas fa-arrow-left mr-2"></i> EN → ID
                                </button>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label class="block text-gray-700 text-left mb-3 font-medium">Tingkat Kesulitan:</label>
                            <div class="flex space-x-4">
                                <button id="difficulty-easy" class="difficulty-btn flex-1 py-3 px-4 rounded-lg border-2 border-green-500 bg-green-50 text-green-700 font-medium">
                                    <i class="fas fa-leaf mr-2"></i> Mudah
                                </button>
                                <button id="difficulty-medium" class="difficulty-btn flex-1 py-3 px-4 rounded-lg border-2 border-gray-300 bg-white text-gray-700 font-medium">
                                    <i class="fas fa-balance-scale mr-2"></i> Menengah
                                </button>
                                <button id="difficulty-hard" class="difficulty-btn flex-1 py-3 px-4 rounded-lg border-2 border-gray-300 bg-white text-gray-700 font-medium">
                                    <i class="fas fa-fire mr-2"></i> Sulit
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button id="start-btn" class="btn-primary text-lg px-10 py-4">
                    <i class="fas fa-play-circle mr-3"></i> Mulai Belajar
                </button>
            </div>

            <!-- Game Screen -->
            <div id="game-screen" class="hidden">
                <!-- Game Header -->
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
                    <div>
                        <h2 id="game-mode" class="text-2xl font-bold text-gray-800">Terjemahan: Indonesia → Inggris</h2>
                        <p id="game-difficulty" class="text-gray-600">Tingkat: <span class="font-medium">Mudah</span></p>
                    </div>
                    
                    <div class="flex items-center space-x-6">
                        <div class="text-center">
                            <div class="text-sm text-gray-500 mb-1">Skor</div>
                            <div id="score" class="score-badge bg-gradient-to-br from-blue-500 to-indigo-600 text-white">0</div>
                        </div>
                        
                        <div class="text-center">
                            <div class="text-sm text-gray-500 mb-1">Pertanyaan</div>
                            <div class="score-badge bg-gradient-to-br from-green-500 to-emerald-600 text-white">
                                <span id="current-question">1</span>/10
                            </div>
                        </div>
                        
                        <div id="streak-container" class="hidden">
                            <div class="text-sm text-gray-500 mb-1 text-center">Streak</div>
                            <div class="streak-counter">
                                <i class="fas fa-fire streak-fire"></i>
                                <span id="streak-count">0</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Progress Bar -->
                <div class="mb-8">
                    <div class="flex justify-between text-sm text-gray-600 mb-2">
                        <span>Progress</span>
                        <span><span id="progress-percent">10</span>%</span>
                    </div>
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill" style="width: 10%;"></div>
                    </div>
                </div>
                
                <!-- Question Content -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
                    <!-- Vocabulary Card -->
                    <div class="lg:col-span-1">
                        <div class="vocab-card h-full">
                            <div id="question-type" class="text-sm font-medium text-blue-600 mb-2 uppercase tracking-wide">Terjemahkan kata</div>
                            <div id="question-word" class="word-display">Rumah</div>
                            <div id="question-phonetic" class="phonetic">/ˈhaʊs/</div>
                            <div id="question-category" class="category-badge bg-blue-100 text-blue-800">Kata Benda</div>
                            
                            <div class="mt-8 pt-6 border-t border-gray-200">
                                <div class="text-sm text-gray-500 mb-2">Contoh Penggunaan:</div>
                        <div id="question-example" class="text-gray-700 italic">"Saya tinggal di rumah yang besar dengan taman yang luas."</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Options -->
                    <div class="lg:col-span-2">
                        <h3 class="text-xl font-bold text-gray-800 mb-6">Pilih jawaban yang benar:</h3>
                        
                        <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Options will be inserted here by JavaScript -->
                        </div>
                        
                        <!-- Feedback Message -->
                        <div id="feedback-message" class="mt-8 p-4 rounded-xl hidden">
                            <div class="flex items-start">
                                <div id="feedback-icon" class="text-2xl mr-3 mt-1"></div>
                                <div>
                                    <h4 id="feedback-title" class="font-bold text-lg"></h4>
                                    <p id="feedback-text" class="text-gray-700"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Game Controls -->
                <div class="flex justify-between items-center pt-6 border-t border-gray-200">
                    <div class="text-gray-500">
                        <i class="fas fa-lightbulb mr-2"></i>
                        <span id="hint-text">Pilih satu jawaban yang tepat</span>
                    </div>
                    
                    <div class="space-x-4">
                        <button id="hint-btn" class="py-3 px-6 rounded-lg border-2 border-gray-300 text-gray-700 font-medium hover:bg-gray-50">
                            <i class="fas fa-question-circle mr-2"></i> Petunjuk
                        </button>
                        <button id="next-btn" class="btn-secondary py-3 px-8 hidden">
                            <i class="fas fa-arrow-right mr-2"></i> Lanjut
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results Screen -->
            <div id="results-screen" class="hidden text-center">
                <div class="max-w-2xl mx-auto">
                    <div class="mb-8">
                        <div id="result-icon" class="inline-flex items-center justify-center w-28 h-28 rounded-full bg-gradient-to-br from-green-100 to-emerald-100 mb-6">
                            <i class="fas fa-trophy text-5xl text-yellow-500"></i>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-4">Kuis Selesai!</h2>
                        <p id="result-message" class="text-gray-600 text-lg mb-8"></p>
                        
                        <!-- Result Stats -->
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-10">
                            <div class="bg-blue-50 p-5 rounded-2xl">
                                <div class="text-3xl font-bold text-blue-600 mb-2" id="final-score">0</div>
                                <p class="text-gray-700 font-medium">Skor Akhir</p>
                            </div>
                            <div class="bg-green-50 p-5 rounded-2xl">
                                <div class="text-3xl font-bold text-green-600 mb-2" id="correct-answers">0</div>
                                <p class="text-gray-700 font-medium">Benar</p>
                            </div>
                            <div class="bg-yellow-50 p-5 rounded-2xl">
                                <div class="text-3xl font-bold text-yellow-600 mb-2" id="streak-best">0</div>
                                <p class="text-gray-700 font-medium">Streak Tertinggi</p>
                            </div>
                            <div class="bg-purple-50 p-5 rounded-2xl">
                                <div class="text-3xl font-bold text-purple-600 mb-2" id="accuracy">0%</div>
                                <p class="text-gray-700 font-medium">Akurasi</p>
                            </div>
                        </div>
                        
                        <!-- Performance Summary -->
                        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-2xl mb-10">
                            <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center">
                                <i class="fas fa-chart-line text-blue-500 mr-3"></i> Ringkasan Performa
                            </h3>
                            <div id="answers-summary" class="space-y-4">
                                <!-- Answers summary will be inserted here by JavaScript -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="space-x-4">
                        <button id="restart-btn" class="btn-primary px-8 py-3">
                            <i class="fas fa-redo mr-3"></i> Main Lagi
                        </button>
                        <button id="new-mode-btn" class="py-3 px-8 rounded-lg border-2 border-blue-500 text-blue-600 font-medium hover:bg-blue-50">
                            <i class="fas fa-exchange-alt mr-3"></i> Mode Lain
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="mt-10 text-center text-gray-500 text-sm">
            <p>Game Pembelajaran Bahasa Indonesia - Inggris | Dibuat dengan <i class="fas fa-heart text-red-500"></i> untuk edukasi</p>
        </footer>
    </div>

    <script>
        // Vocabulary Database
        const vocabulary = [
            {
                indonesian: "Rumah",
                english: "House",
                phonetic: "/haʊs/",
                category: "Kata Benda",
                exampleIndo: "Saya tinggal di rumah yang besar dengan taman yang luas.",
                exampleEng: "I live in a big house with a large garden.",
                difficulty: "easy"
            },
            {
                indonesian: "Makan",
                english: "Eat",
                phonetic: "/iːt/",
                category: "Kata Kerja",
                exampleIndo: "Kami akan makan malam bersama keluarga nanti.",
                exampleEng: "We will eat dinner with family later.",
                difficulty: "easy"
            },
            {
                indonesian: "Cantik",
                english: "Beautiful",
                phonetic: "/ˈbjuːtɪfl/",
                category: "Kata Sifat",
                exampleIndo: "Pemandangan sunset di pantai sangat cantik.",
                exampleEng: "The sunset view at the beach is very beautiful.",
                difficulty: "easy"
            },
            {
                indonesian: "Pintar",
                english: "Smart",
                phonetic: "/smɑːrt/",
                category: "Kata Sifat",
                exampleIndo: "Anak itu sangat pintar dalam matematika.",
                exampleEng: "That child is very smart in mathematics.",
                difficulty: "medium"
            },
            {
                indonesian: "Berkembang",
                english: "Develop",
                phonetic: "/dɪˈveləp/",
                category: "Kata Kerja",
                exampleIndo: "Perusahaan ini berkembang pesat dalam dua tahun terakhir.",
                exampleEng: "This company has developed rapidly in the last two years.",
                difficulty: "medium"
            },
            {
                indonesian: "Keberanian",
                english: "Courage",
                phonetic: "/ˈkɜːrɪdʒ/",
                category: "Kata Benda",
                exampleIndo: "Dia menunjukkan keberanian yang luar biasa saat menyelamatkan anak itu.",
                exampleEng: "He showed extraordinary courage when saving that child.",
                difficulty: "medium"
            },
            {
                indonesian: "Mengesankan",
                english: "Impressive",
                phonetic: "/ɪmˈpresɪv/",
                category: "Kata Sifat",
                exampleIndo: "Presentasinya sangat mengesankan dan memenangkan penghargaan.",
                exampleEng: "His presentation was very impressive and won an award.",
                difficulty: "hard"
            },
            {
                indonesian: "Menakjubkan",
                english: "Amazing",
                phonetic: "/əˈmeɪzɪŋ/",
                category: "Kata Sifat",
                exampleIndo: "Keindahan alam di pulau itu benar-benar menakjubkan.",
                exampleEng: "The natural beauty on that island is truly amazing.",
                difficulty: "hard"
            },
            {
                indonesian: "Pengetahuan",
                english: "Knowledge",
                phonetic: "/ˈnɒlɪdʒ/",
                category: "Kata Benda",
                exampleIndo: "Pengetahuan tentang budaya lokal penting saat bepergian.",
                exampleEng: "Knowledge about local culture is important when traveling.",
                difficulty: "hard"
            },
            {
                indonesian: "Kemampuan",
                english: "Ability",
                phonetic: "/əˈbɪləti/",
                category: "Kata Benda",
                exampleIndo: "Dia memiliki kemampuan berbicara lima bahasa dengan lancar.",
                exampleEng: "He has the ability to speak five languages fluently.",
                difficulty: "hard"
            }
        ];

        // Game state variables
        let currentQuestionIndex = 0;
        let score = 0;
        let streak = 0;
        let bestStreak = 0;
        let correctAnswers = 0;
        let selectedMode = "indo-to-eng"; // Default mode
        let selectedDifficulty = "easy"; // Default difficulty
        let currentQuestions = [];
        let userAnswers = new Array(10).fill(null);

        // DOM elements
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const resultsScreen = document.getElementById('results-screen');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const hintBtn = document.getElementById('hint-btn');
        const restartBtn = document.getElementById('restart-btn');
        const newModeBtn = document.getElementById('new-mode-btn');
        
        // Mode selection buttons
        const modeIndoToEng = document.getElementById('mode-indo-to-eng');
        const modeEngToIndo = document.getElementById('mode-eng-to-indo');
        
        // Difficulty selection buttons
        const difficultyEasy = document.getElementById('difficulty-easy');
        const difficultyMedium = document.getElementById('difficulty-medium');
        const difficultyHard = document.getElementById('difficulty-hard');
        
        // Game elements
        const gameModeElement = document.getElementById('game-mode');
        const gameDifficultyElement = document.getElementById('game-difficulty');
        const scoreElement = document.getElementById('score');
        const currentQuestionElement = document.getElementById('current-question');
        const progressFill = document.getElementById('progress-fill');
        const progressPercent = document.getElementById('progress-percent');
        const questionWord = document.getElementById('question-word');
        const questionPhonetic = document.getElementById('question-phonetic');
        const questionCategory = document.getElementById('question-category');
        const questionExample = document.getElementById('question-example');
        const questionType = document.getElementById('question-type');
        const optionsContainer = document.getElementById('options-container');
        const hintText = document.getElementById('hint-text');
        const feedbackMessage = document.getElementById('feedback-message');
        const feedbackIcon = document.getElementById('feedback-icon');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackText = document.getElementById('feedback-text');
        const streakContainer = document.getElementById('streak-container');
        const streakCount = document.getElementById('streak-count');
        
        // Results elements
        const finalScoreElement = document.getElementById('final-score');
        const correctAnswersElement = document.getElementById('correct-answers');
        const streakBestElement = document.getElementById('streak-best');
        const accuracyElement = document.getElementById('accuracy');
        const resultMessageElement = document.getElementById('result-message');
        const resultIcon = document.getElementById('result-icon');
        const answersSummaryElement = document.getElementById('answers-summary');

        // Event Listeners
        startBtn.addEventListener('click', startGame);
        nextBtn.addEventListener('click', nextQuestion);
        hintBtn.addEventListener('click', showHint);
        restartBtn.addEventListener('click', restartGame);
        newModeBtn.addEventListener('click', goToStartScreen);
        
        // Mode selection
        modeIndoToEng.addEventListener('click', () => selectMode('indo-to-eng'));
        modeEngToIndo.addEventListener('click', () => selectMode('eng-to-indo'));
        
        // Difficulty selection
        difficultyEasy.addEventListener('click', () => selectDifficulty('easy'));
        difficultyMedium.addEventListener('click', () => selectDifficulty('medium'));
        difficultyHard.addEventListener('click', () => selectDifficulty('hard'));

        // Select game mode
        function selectMode(mode) {
            selectedMode = mode;
            
            // Update UI for mode buttons
            if (mode === 'indo-to-eng') {
                modeIndoToEng.classList.add('border-blue-500', 'text-blue-600');
                modeIndoToEng.classList.remove('border-gray-300', 'text-gray-700');
                modeEngToIndo.classList.add('border-gray-300', 'text-gray-700');
                modeEngToIndo.classList.remove('border-blue-500', 'text-blue-600');
            } else {
                modeEngToIndo.classList.add('border-blue-500', 'text-blue-600');
                modeEngToIndo.classList.remove('border-gray-300', 'text-gray-700');
                modeIndoToEng.classList.add('border-gray-300', 'text-gray-700');
                modeIndoToEng.classList.remove('border-blue-500', 'text-blue-600');
            }
        }

        // Select difficulty level
        function selectDifficulty(difficulty) {
            selectedDifficulty = difficulty;
            
            // Update UI for difficulty buttons
            difficultyEasy.classList.remove('border-green-500', 'bg-green-50', 'text-green-700');
            difficultyMedium.classList.remove('border-yellow-500', 'bg-yellow-50', 'text-yellow-700');
            difficultyHard.classList.remove('border-red-500', 'bg-red-50', 'text-red-700');
            
            difficultyEasy.classList.add('border-gray-300', 'bg-white', 'text-gray-700');
            difficultyMedium.classList.add('border-gray-300', 'bg-white', 'text-gray-700');
            difficultyHard.classList.add('border-gray-300', 'bg-white', 'text-gray-700');
            
            if (difficulty === 'easy') {
                difficultyEasy.classList.add('border-green-500', 'bg-green-50', 'text-green-700');
                difficultyEasy.classList.remove('border-gray-300', 'bg-white', 'text-gray-700');
            } else if (difficulty === 'medium') {
                difficultyMedium.classList.add('border-yellow-500', 'bg-yellow-50', 'text-yellow-700');
                difficultyMedium.classList.remove('border-gray-300', 'bg-white', 'text-gray-700');
            } else {
                difficultyHard.classList.add('border-red-500', 'bg-red-50', 'text-red-700');
                difficultyHard.classList.remove('border-gray-300', 'bg-white', 'text-gray-700');
            }
        }

        // Start the game
        function startGame() {
            // Reset game state
            currentQuestionIndex = 0;
            score = 0;
            streak = 0;
            bestStreak = 0;
            correctAnswers = 0;
            userAnswers.fill(null);
            
            // Prepare questions based on selected difficulty
            prepareQuestions();
            
            // Update UI
            startScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            resultsScreen.classList.add('hidden');
            
            // Update game info
            updateGameInfo();
            
            // Load first question
            loadQuestion();
        }

        // Prepare questions based on selected difficulty
        function prepareQuestions() {
            // Filter vocabulary by difficulty
            let filteredVocabulary = vocabulary.filter(word => {
                if (selectedDifficulty === 'easy') return word.difficulty === 'easy';
                if (selectedDifficulty === 'medium') return word.difficulty === 'easy' || word.difficulty === 'medium';
                return true; // 'hard' includes all words
            });
            
            // Shuffle the filtered vocabulary
            filteredVocabulary = shuffleArray([...filteredVocabulary]);
            
            // Select first 10 words (or all if less than 10)
            currentQuestions = filteredVocabulary.slice(0, Math.min(10, filteredVocabulary.length));
            
            // If we don't have enough questions, add some from other difficulties
            if (currentQuestions.length < 10) {
                const remaining = 10 - currentQuestions.length;
                const otherWords = vocabulary.filter(word => !currentQuestions.includes(word));
                const additionalWords = shuffleArray([...otherWords]).slice(0, remaining);
                currentQuestions.push(...additionalWords);
            }
        }

        // Update game info display
        function updateGameInfo() {
            // Update mode display
            if (selectedMode === 'indo-to-eng') {
                gameModeElement.textContent = 'Terjemahan: Indonesia → Inggris';
            } else {
                gameModeElement.textContent = 'Terjemahan: Inggris → Indonesia';
            }
            
            // Update difficulty display
            let difficultyText = '';
            let difficultyColor = '';
            
            if (selectedDifficulty === 'easy') {
                difficultyText = 'Mudah';
                difficultyColor = 'text-green-600';
            } else if (selectedDifficulty === 'medium') {
                difficultyText = 'Menengah';
                difficultyColor = 'text-yellow-600';
            } else {
                difficultyText = 'Sulit';
                difficultyColor = 'text-red-600';
            }
            
            gameDifficultyElement.innerHTML = `Tingkat: <span class="font-medium ${difficultyColor}">${difficultyText}</span>`;
            
            // Update question type
            questionType.textContent = selectedMode === 'indo-to-eng' ? 'Terjemahkan kata' : 'Translate the word';
        }

        // Load a question
        function loadQuestion() {
            // Reset UI state
            nextBtn.classList.add('hidden');
            hintBtn.classList.remove('hidden');
            feedbackMessage.classList.add('hidden');
            hintText.textContent = selectedMode === 'indo-to-eng' ? 'Pilih terjemahan Inggris yang tepat' : 'Select the correct Indonesian translation';
            
            // Show/hide streak counter
            if (streak > 1) {
                streakContainer.classList.remove('hidden');
                streakCount.textContent = streak;
            } else {
                streakContainer.classList.add('hidden');
            }
            
            // Get current question
            const question = currentQuestions[currentQuestionIndex];
            
            // Update question display based on mode
            if (selectedMode === 'indo-to-eng') {
                questionWord.textContent = question.indonesian;
                questionPhonetic.textContent = question.phonetic;
                questionExample.textContent = question.exampleIndo;
            } else {
                questionWord.textContent = question.english;
                questionPhonetic.textContent = question.phonetic;
                questionExample.textContent = question.exampleEng;
            }
            
            questionCategory.textContent = question.category;
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            progressFill.style.width = `${progress}%`;
            progressPercent.textContent = Math.round(progress);
            
            // Update counters
            currentQuestionElement.textContent = currentQuestionIndex + 1;
            scoreElement.textContent = score;
            
            // Generate answer options
            generateOptions(question);
        }

        // Generate answer options
        function generateOptions(correctQuestion) {
            optionsContainer.innerHTML = '';
            
            // Determine correct answer based on mode
            const correctAnswer = selectedMode === 'indo-to-eng' 
                ? correctQuestion.english 
                : correctQuestion.indonesian;
            
            // Create array of wrong answers (distractors)
            let wrongAnswers = [];
            
            // Get other words from the vocabulary that are not the correct answer
            vocabulary.forEach(word => {
                const wrongAnswer = selectedMode === 'indo-to-eng' ? word.english : word.indonesian;
                if (wrongAnswer !== correctAnswer && !wrongAnswers.includes(wrongAnswer)) {
                    wrongAnswers.push(wrongAnswer);
                }
            });
            
            // Shuffle wrong answers and take 3
            wrongAnswers = shuffleArray(wrongAnswers).slice(0, 3);
            
            // Create options array with correct answer and wrong answers
            const options = [correctAnswer, ...wrongAnswers];
            
            // Shuffle the options
            const shuffledOptions = shuffleArray(options);
            
            // Create option cards
            shuffledOptions.forEach((option, index) => {
                const optionCard = document.createElement('div');
                optionCard.className = 'option-card';
                optionCard.innerHTML = `
                    <div class="flex items-center">
                        <div class="flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-br from-blue-100 to-indigo-100 text-blue-600 font-bold mr-4">
                            ${String.fromCharCode(65 + index)}
                        </div>
                        <div class="text-lg font-medium">${option}</div>
                    </div>
                `;
                
                // Add click event
                optionCard.addEventListener('click', () => selectAnswer(option, correctAnswer, optionCard));
                
                // If user already answered this question, show the result
                if (userAnswers[currentQuestionIndex] !== null) {
                    if (userAnswers[currentQuestionIndex] === option) {
                        optionCard.classList.add('selected');
                        if (option === correctAnswer) {
                            optionCard.classList.add('correct');
                        } else {
                            optionCard.classList.add('incorrect');
                        }
                    } else if (option === correctAnswer) {
                        optionCard.classList.add('correct');
                    }
                }
                
                optionsContainer.appendChild(optionCard);
            });
        }

        // Select an answer
        function selectAnswer(selectedOption, correctAnswer, optionCard) {
            // If already answered, ignore
            if (userAnswers[currentQuestionIndex] !== null) return;
            
            // Mark as answered
            userAnswers[currentQuestionIndex] = selectedOption;
            
            // Disable all option cards
            const allOptionCards = document.querySelectorAll('.option-card');
            allOptionCards.forEach(card => {
                card.style.pointerEvents = 'none';
            });
            
            // Check if answer is correct
            const isCorrect = selectedOption === correctAnswer;
            
            // Update streak
            if (isCorrect) {
                streak++;
                if (streak > bestStreak) bestStreak = streak;
                correctAnswers++;
            } else {
                streak = 0;
            }
            
            // Calculate points based on difficulty
            let points = 0;
            if (isCorrect) {
                if (selectedDifficulty === 'easy') points = 10;
                else if (selectedDifficulty === 'medium') points = 15;
                else points = 20;
                
                // Bonus for streak
                if (streak >= 3) points += 5;
                if (streak >= 5) points += 10;
                
                score += points;
                scoreElement.textContent = score;
            }
            
            // Mark selected option
            optionCard.classList.add('selected');
            
            // Show feedback
            showFeedback(isCorrect, selectedOption, correctAnswer, points);
            
            // Show next button
            nextBtn.classList.remove('hidden');
            hintBtn.classList.add('hidden');
        }

        // Show feedback after answer
        function showFeedback(isCorrect, selectedOption, correctAnswer, points) {
            feedbackMessage.classList.remove('hidden');
            
            const currentQuestion = currentQuestions[currentQuestionIndex];
            const correctWordIndo = currentQuestion.indonesian;
            const correctWordEng = currentQuestion.english;
            
            if (isCorrect) {
                feedbackMessage.className = 'mt-8 p-4 rounded-xl bg-green-50 border border-green-200';
                feedbackIcon.className = 'fas fa-check-circle text-green-600';
                feedbackTitle.textContent = 'Benar!';
                feedbackTitle.className = 'font-bold text-lg text-green-800';
                
                let feedback = `Jawaban Anda tepat! `;
                if (selectedMode === 'indo-to-eng') {
                    feedback += `<span class="font-bold">"${correctWordIndo}"</span> artinya <span class="font-bold">"${correctWordEng}"</span> dalam bahasa Inggris.`;
                } else {
                    feedback += `<span class="font-bold">"${correctWordEng}"</span> means <span class="font-bold">"${correctWordIndo}"</span> in Indonesian.`;
                }
                
                if (points > 0) {
                    feedback += ` Anda mendapatkan <span class="font-bold">${points} poin</span>!`;
                }
                
                if (streak >= 3) {
                    feedback += ` <span class="font-bold text-yellow-600">Streak ${streak} berturut-turut!</span>`;
                }
                
                feedbackText.innerHTML = feedback;
                hintText.innerHTML = `<span class="text-green-600 font-bold">Jawaban benar! +${points} poin</span>`;
            } else {
                feedbackMessage.className = 'mt-8 p-4 rounded-xl bg-red-50 border border-red-200';
                feedbackIcon.className = 'fas fa-times-circle text-red-600';
                feedbackTitle.textContent = 'Masih belum tepat';
                feedbackTitle.className = 'font-bold text-lg text-red-800';
                
                let feedback = `Jawaban yang benar adalah <span class="font-bold">"${correctAnswer}"</span>. `;
                
                if (selectedMode === 'indo-to-eng') {
                    feedback += `<span class="font-bold">"${correctWordIndo}"</span> artinya <span class="font-bold">"${correctWordEng}"</span> dalam bahasa Inggris.`;
                } else {
                    feedback += `<span class="font-bold">"${correctWordEng}"</span> artinya <span class="font-bold">"${correctWordIndo}"</span> dalam bahasa Indonesia.`;
                }
                
                feedbackText.innerHTML = feedback;
                hintText.innerHTML = `<span class="text-red-600 font-bold">Jawaban salah. Coba lagi di pertanyaan berikutnya!</span>`;
            }
        }

        // Show hint
        function showHint() {
            const currentQuestion = currentQuestions[currentQuestionIndex];
            
            // Determine hint based on mode
            if (selectedMode === 'indo-to-eng') {
                hintText.innerHTML = `<span class="text-blue-600 font-bold">Petunjuk: Kata ini termasuk kategori "${currentQuestion.category}"</span>`;
            } else {
                hintText.innerHTML = `<span class="text-blue-600 font-bold">Hint: This word is a "${currentQuestion.category}"</span>`;
            }
            
            // Disable hint button after use
            hintBtn.disabled = true;
            hintBtn.classList.add('opacity-50', 'cursor-not-allowed');
            
            // Reduce score for using hint
            score = Math.max(0, score - 5);
            scoreElement.textContent = score;
        }

        // Go to next question
        function nextQuestion() {
            // Move to next question or end game
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                endGame();
            }
        }

        // End the game
        function endGame() {
            // Calculate accuracy
            const accuracy = Math.round((correctAnswers / currentQuestions.length) * 100);
            
            // Update results screen
            finalScoreElement.textContent = score;
            correctAnswersElement.textContent = `${correctAnswers}/${currentQuestions.length}`;
            streakBestElement.textContent = bestStreak;
            accuracyElement.textContent = `${accuracy}%`;
            
            // Determine result message
            let message = "";
            let icon = '<i class="fas fa-trophy text-5xl text-yellow-500"></i>';
            
            if (accuracy === 100) {
                message = "Luar biasa! Anda menjawab semua pertanyaan dengan benar! Pengetahuan bahasa Anda sangat mengagumkan!";
                icon = '<i class="fas fa-crown text-5xl text-yellow-500"></i>';
            } else if (accuracy >= 80) {
                message = "Hebat! Hasil yang sangat baik. Pengetahuan bahasa Anda sudah sangat baik!";
                icon = '<i class="fas fa-star text-5xl text-blue-500"></i>';
            } else if (accuracy >= 60) {
                message = "Bagus! Hasil yang solid. Teruslah belajar untuk meningkatkan kemampuan bahasa Anda!";
                icon = '<i class="fas fa-thumbs-up text-5xl text-green-500"></i>';
            } else if (accuracy >= 40) {
                message = "Cukup baik! Masih ada ruang untuk perbaikan. Teruslah berlatih!";
                icon = '<i class="fas fa-book-open text-5xl text-purple-500"></i>';
            } else {
                message = "Jangan menyerah! Belajar bahasa adalah proses. Teruslah berlatih dan coba lagi!";
                icon = '<i class="fas fa-seedling text-5xl text-green-500"></i>';
            }
            
            resultMessageElement.textContent = message;
            resultIcon.innerHTML = icon;
            
            // Generate answers summary
            generateAnswersSummary();
            
            // Switch to results screen
            gameScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
        }

        // Generate answers summary
        function generateAnswersSummary() {
            answersSummaryElement.innerHTML = '';
            
            currentQuestions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const correctAnswer = selectedMode === 'indo-to-eng' ? question.english : question.indonesian;
                const isCorrect = userAnswer === correctAnswer;
                
                const summaryItem = document.createElement('div');
                summaryItem.className = `p-4 rounded-xl ${isCorrect ? 'bg-green-100' : 'bg-red-100'} border ${isCorrect ? 'border-green-200' : 'border-red-200'}`;
                
                const questionWord = selectedMode === 'indo-to-eng' ? question.indonesian : question.english;
                const answerWord = selectedMode === 'indo-to-eng' ? question.english : question.indonesian;
                
                summaryItem.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div class="font-bold text-gray-800">Pertanyaan ${index + 1}: "${questionWord}"</div>
                        <div class="text-sm font-medium px-3 py-1 rounded-full ${isCorrect ? 'bg-green-200 text-green-800' : 'bg-red-200 text-red-800'}">
                            ${isCorrect ? 'Benar' : 'Salah'}
                        </div>
                    </div>
                    <div class="text-sm text-gray-700 mb-1">
                        <span class="font-medium">Jawaban Anda:</span> 
                        <span class="${isCorrect ? 'text-green-700 font-medium' : 'text-red-700'}">${userAnswer || 'Tidak dijawab'}</span>
                    </div>
                    ${!isCorrect ? `
                        <div class="text-sm text-gray-700">
                            <span class="font-medium">Jawaban benar:</span> 
                            <span class="text-green-700 font-medium">${correctAnswer}</span>
                        </div>
                    ` : ''}
                    <div class="text-xs text-gray-500 mt-2">
                        Kategori: ${question.category} | Tingkat: ${question.difficulty === 'easy' ? 'Mudah' : question.difficulty === 'medium' ? 'Menengah' : 'Sulit'}
                    </div>
                `;
                
                answersSummaryElement.appendChild(summaryItem);
            });
        }

        // Restart game with same settings
        function restartGame() {
            startGame();
        }

        // Go back to start screen to change settings
        function goToStartScreen() {
            resultsScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
        }

        // Utility function to shuffle an array
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Initialize with default selections
        selectMode('indo-to-eng');
        selectDifficulty('easy');
    </script>
</body>
</html>